{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction memoize(provider, isExpired, requiresRefresh) {\n  if (isExpired === undefined) {\n    // This is a static memoization; no need to incorporate refreshing\n    var result_1 = provider();\n    return function () {\n      return result_1;\n    };\n  }\n\n  var result = provider();\n  var isConstant = false;\n  return function () {\n    if (isConstant) {\n      return result;\n    }\n\n    return result.then(function (resolved) {\n      if (requiresRefresh && !requiresRefresh(resolved)) {\n        isConstant = true;\n        return resolved;\n      }\n\n      if (isExpired(resolved)) {\n        return result = provider();\n      }\n\n      return resolved;\n    });\n  };\n}\n\nexports.memoize = memoize;","map":null,"metadata":{},"sourceType":"script"}